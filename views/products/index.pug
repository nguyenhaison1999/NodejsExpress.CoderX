extends ../layouts/common.pug

block content
    h1 Products

    .d-flex.align-items-center
        form.ml-auto.d-flex(action="/products/search", method="GET")
            input.form-control(type="text", name="q")
            button.btn.btn-primary.ml-2 Search

    .row
        each product in products
            .col-sm-6.col-md-4.col-lg-3
                .card.mb-3
                    img.card-img-top(src=product.image)
                    .card-body
                        h5.card-title= product.name
                        p.card-text= product.description
                        a.btn.btn-primary(href="/cart/add/" + product.id) Add to cart
    //- From yogathanh99
    if page== '1'
        nav(aria-label='Page navigation example')
            ul.pagination.justify-content-end
                li.page-item.disabled
                    a.page-link(href=`/products?page=${parseInt(page)-1}`, tabindex='-1', aria-disabled='true') Previous
                li.page-item.active
                    a.page-link(href=`/products?page=${parseInt(page)}`)=page
                li.page-item
                    a.page-link(href=`/products?page=${parseInt(page)+1}`)=parseInt(page)+1
                li.page-item
                    a.page-link(href=`/products?page=${parseInt(page)+2}`)=parseInt(page)+2
                li.page-item
                    a.page-link(href=`/products?page=${parseInt(page)+1}`) Next
    else
        nav(aria-label='Page navigation example')
            ul.pagination.justify-content-end
                li.page-item
                    a.page-link(href=`/products?page=${parseInt(page)-1}`, tabindex='-1') Previous
                li.page-item
                    a.page-link(href=`/products?page=${parseInt(page)-1}`)=parseInt(page)-1
                li.page-item.active
                    a.page-link(href=`/products?page=${parseInt(page)}`)=page
                li.page-item
                    a.page-link(href=`/products?page=${parseInt(page)+1}`)=parseInt(page)+1
                li.page-item
                    a.page-link(href=`/products?page=${parseInt(page)+1}`) Next